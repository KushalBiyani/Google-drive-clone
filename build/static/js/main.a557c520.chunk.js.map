{"version":3,"sources":["firebase.js","context/AuthContext.js","components/authentication/SignUp.js","components/authentication/Profile.js","components/authentication/Login.js","components/authentication/PrivateRoute.js","components/authentication/ForgotPassword.js","components/authentication/UpdateProfile.js","hooks/useFolder.js","components/google-drive/AddFolderButton.js","components/google-drive/AddFileButton.js","components/google-drive/Folder.js","components/google-drive/File.js","components/google-drive/Navbar.js","components/google-drive/FolderBreadcrumbs.js","components/google-drive/Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","signInWithGoogle","googleProvider","GoogleAuthProvider","signInWithPopup","updateEmail","updatePassword","Provider","SignUp","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Container","className","style","minHeight","maxWidth","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","ref","autoComplete","required","Button","disabled","to","Profile","src","photoURL","displayName","phoneNumber","onClick","Login","alt","PrivateRoute","Component","component","rest","render","props","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFiles","childFolders","AddFolderButton","currentFolder","open","setOpen","setName","closeModal","size","icon","faFolderPlus","Modal","show","onHide","add","parentId","userId","uid","createdAt","onChange","target","Footer","AddFileButton","uploadingFiles","setUploadingFiles","faFileUpload","file","uuidV4","prevUploadingFiles","progress","filePath","join","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","map","uploadFile","filter","getDownloadURL","url","where","get","existingFiles","existingFile","docs","update","opacity","position","left","length","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","document","body","Folder","pathname","as","Link","faFolder","File","href","faFile","NavbarComponent","Navbar","bg","expand","Brand","Nav","FolderBreadcrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","slice","active","Dashboard","useParams","useLocation","useReducer","dispatch","orderBy","onSnapshot","useFolder","fluid","childFolder","childFile","App","exact","Signup","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a557c520.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nconst app = firebase.initializeApp({\r\n    // apiKey: \"AIzaSyDghBOy1qJbPsSBls2zgkTx_AWJsIaL5Lg\",\r\n    // authDomain: \"fir-auth-2be0e.firebaseapp.com\",\r\n    // databaseURL: \"https://fir-auth-2be0e-default-rtdb.firebaseio.com\",\r\n    // projectId: \"fir-auth-2be0e\",\r\n    // storageBucket: \"fir-auth-2be0e.appspot.com\",\r\n    // messagingSenderId: \"416984125264\",\r\n    // appId: \"1:416984125264:web:11298a0471ed75dcc66655\",\r\n    // measurementId: \"G-ZF7952VPN5\"\r\n    apiKey: \"AIzaSyBp1nl5dWeEotykfDxWrPnJsv94631HC-A\",\r\n    authDomain: \"drive-clone-70e41.firebaseapp.com\",\r\n    projectId: \"drive-clone-70e41\",\r\n    storageBucket: \"drive-clone-70e41.appspot.com\",\r\n    messagingSenderId: \"751248894478\",\r\n    appId: \"1:751248894478:web:e1bcd465f17f294049aa5f\"\r\n})\r\n// const app = firebase.initializeApp({\r\n//     apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n//     authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n//     projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n//     storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n//     messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n//     appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n//     measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n// })\r\nconst firestore = app.firestore()\r\nexport const database = {\r\n  folders: firestore.collection(\"folders\"),\r\n  files: firestore.collection(\"files\"),\r\n  formatDoc: doc => {\r\n    return { id: doc.id, ...doc.data() }\r\n  },\r\n  getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp,\r\n}\r\nexport const storage = app.storage()\r\nexport const auth = app.auth()\r\nexport default app","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\nimport firebase from \"firebase/app\";\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  function signInWithGoogle() {\r\n    const googleProvider = new firebase.auth.GoogleAuthProvider()\r\n    return auth.signInWithPopup(googleProvider)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    signInWithGoogle,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","import React, { useRef, useState } from 'react';\r\nimport { Form, Button, Card, Container, Alert } from 'react-bootstrap';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function SignUp() {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const { signup  } = useAuth();\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (passwordConfirmRef.current.value !== passwordRef.current.value) {\r\n            return setError(\"Password do not match\")\r\n        }\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value)\r\n            history.push(\"/\")\r\n        } catch {\r\n            setError(error)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container className=\"d-flex aling-item-center justify-content-center\" style={{ minHeight: '100vh' }}>\r\n                <div className='w-100' style={{ maxWidth: \"400px\" }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <h2 className='text-center mb-4'>Sign Up</h2>\r\n                            {error && <Alert variant=\"danger\"> {error} </Alert>}\r\n                            <Form onSubmit={handleSubmit}>\r\n                                <Form.Group id='email'>\r\n                                    <Form.Label>Email</Form.Label>\r\n                                    <Form.Control type='email' ref={emailRef} autoComplete=\"on\" required />\r\n                                </Form.Group>\r\n                                <Form.Group id='password'>\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control type='password' ref={passwordRef} autoComplete=\"current-password\" required />\r\n                                </Form.Group>\r\n                                <Form.Group id='password-confirm'>\r\n                                    <Form.Label>Password Confirmation</Form.Label>\r\n                                    <Form.Control type='password' ref={passwordConfirmRef} autoComplete=\"current-password\" required />\r\n                                </Form.Group>\r\n                                <Button disabled={loading} className='w-100' type='submit'>Sign Up</Button>\r\n                            </Form>\r\n                        </Card.Body>\r\n                    </Card>\r\n                    <div className=\"w-100 text-center mt-2\">\r\n                        Already have an account? <Link to=\"/login\">Log In</Link>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, { useState } from \"react\"\r\nimport { Card, Button, Alert, Container } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../context/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Profile() {\r\n  const [error, setError] = useState(\"\")\r\n  const { currentUser, logout} = useAuth()\r\n  const history = useHistory()\r\n\r\nasync function handleLogout() {\r\n  setError(\"\")\r\n\r\n  try {\r\n    await logout()\r\n    history.push(\"/login\")\r\n  } catch {\r\n    setError(\"Failed to log out\")\r\n  }\r\n}\r\n\r\nreturn (\r\n  <>\r\n    <Container className=\"d-flex aling-item-center justify-content-center\" style={{ minHeight: '100vh' }}>\r\n      <div className='w-100' style={{ maxWidth: \"400px\" }}>\r\n        <Card>\r\n          <Card.Body>\r\n            <img src={currentUser.photoURL} />\r\n            <h2 className=\"text-center mb-4\">Profile</h2>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <h5><strong>Email:</strong> {currentUser.email}</h5>\r\n            <h5><strong>User Name:</strong> {currentUser.displayName}</h5>\r\n            <h5><strong>Phone Number:</strong> {currentUser.phoneNumber}</h5>\r\n            <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n              Update Profile\r\n          </Link>\r\n          </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n          <Button variant=\"link\" onClick={handleLogout}>\r\n            Log Out\r\n        </Button>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  </>\r\n)\r\n}","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert, Container } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../context/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login, signInWithGoogle } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n  async function googleSignIn() {\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signInWithGoogle()\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n    setLoading(false)\r\n  }\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"d-flex aling-item-center justify-content-center\" style={{ minHeight: '100vh' }}>\r\n        <div className='w-100' style={{ maxWidth: \"400px\" }}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Log In</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" ref={emailRef} autoComplete=\"username\" required />\r\n                </Form.Group>\r\n                <Form.Group id=\"password\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control type=\"password\" ref={passwordRef} autoComplete=\"current-password\" required />\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                  Log In\r\n                </Button>\r\n              </Form>\r\n              <Button className=\"login-provider-button w-100\" onClick={googleSignIn}>\r\n                <img src=\"https://img.icons8.com/ios-filled/50/000000/google-logo.png\" alt=\"google icon\" />\r\n                <span> Continue with Google</span>\r\n              </Button>\r\n              <div className=\"w-100 text-center mt-3\">\r\n                <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"w-100 text-center mt-2\">\r\n            Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../../context/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert , Container } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../context/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function ForgotPassword() {\r\n    const emailRef = useRef()\r\n    const { resetPassword } = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setMessage(\"\")\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage(\"Check your inbox for further instructions\")\r\n        } catch {\r\n            setError(\"Failed to reset password\")\r\n        }\r\n\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container className=\"d-flex aling-item-center justify-content-center\" style={{ minHeight: '100vh' }}>\r\n                <div className='w-100' style={{ maxWidth: \"400px\" }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n                            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                            {message && <Alert variant=\"success\">{message}</Alert>}\r\n                            <Form onSubmit={handleSubmit}>\r\n                                <Form.Group id=\"email\">\r\n                                    <Form.Label>Email</Form.Label>\r\n                                    <Form.Control type=\"email\" ref={emailRef} required />\r\n                                </Form.Group>\r\n                                <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                                    Reset Password\r\n                                </Button>\r\n                            </Form>\r\n                            <div className=\"w-100 text-center mt-3\">\r\n                                <Link to=\"/login\">Login</Link>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                    <div className=\"w-100 text-center mt-2\">\r\n                        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </>\r\n    )\r\n}","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert , Container} from \"react-bootstrap\"\r\nimport { useAuth } from \"../../context/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { currentUser, updatePassword, updateEmail } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value))\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/\")\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\")\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"d-flex aling-item-center justify-content-center\" style={{ minHeight: '100vh' }}>\r\n        <div className='w-100' style={{ maxWidth: \"400px\" }}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control\r\n                    type=\"email\"\r\n                    ref={emailRef}\r\n                    required\r\n                    defaultValue={currentUser.email}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group id=\"password\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    ref={passwordRef}\r\n                    placeholder=\"Leave blank to keep the same\"\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group id=\"password-confirm\">\r\n                  <Form.Label>Password Confirmation</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    ref={passwordConfirmRef}\r\n                    placeholder=\"Leave blank to keep the same\"\r\n                  />\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                  Update\r\n            </Button>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"w-100 text-center mt-2\">\r\n            <Link to=\"/\">Cancel</Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n","import { useReducer, useEffect } from \"react\"\nimport { useAuth } from \"../context/AuthContext\"\nimport { database } from \"../firebase\"\n\nconst ACTIONS = {\n  SELECT_FOLDER: \"select-folder\",\n  UPDATE_FOLDER: \"update-folder\",\n  SET_CHILD_FOLDERS: \"set-child-folders\",\n  SET_CHILD_FILES: \"set-child-files\",\n}\n\nexport const ROOT_FOLDER = { name: \"Root\", id: null, path: [] }\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ACTIONS.SELECT_FOLDER:\n      return {\n        folderId: payload.folderId,\n        folder: payload.folder,\n        childFiles: [],\n        childFolders: [],\n      }\n    case ACTIONS.UPDATE_FOLDER:\n      return {\n        ...state,\n        folder: payload.folder,\n      }\n    case ACTIONS.SET_CHILD_FOLDERS:\n      return {\n        ...state,\n        childFolders: payload.childFolders,\n      }\n    case ACTIONS.SET_CHILD_FILES:\n      return {\n        ...state,\n        childFiles: payload.childFiles,\n      }\n    default:\n      return state\n  }\n}\n\nexport function useFolder(folderId = null, folder = null) {\n  const [state, dispatch] = useReducer(reducer, {\n    folderId,\n    folder,\n    childFolders: [],\n    childFiles: [],\n  })\n  const { currentUser } = useAuth()\n\n  useEffect(() => {\n    dispatch({ type: ACTIONS.SELECT_FOLDER, payload: { folderId, folder } })\n  }, [folderId, folder])\n\n  useEffect(() => {\n    if (folderId == null) {\n      return dispatch({\n        type: ACTIONS.UPDATE_FOLDER,\n        payload: { folder: ROOT_FOLDER },\n      })\n    }\n\n    database.folders\n      .doc(folderId)\n      .get()\n      .then(doc => {\n        dispatch({\n          type: ACTIONS.UPDATE_FOLDER,\n          payload: { folder: database.formatDoc(doc) },\n        })\n      })\n      .catch(() => {\n        dispatch({\n          type: ACTIONS.UPDATE_FOLDER,\n          payload: { folder: ROOT_FOLDER },\n        })\n      })\n  }, [folderId])\n\n  useEffect(() => {\n    return database.folders\n      .where(\"parentId\", \"==\", folderId)\n      .where(\"userId\", \"==\", currentUser.uid)\n      .orderBy(\"createdAt\")\n      .onSnapshot(snapshot => {\n        dispatch({\n          type: ACTIONS.SET_CHILD_FOLDERS,\n          payload: { childFolders: snapshot.docs.map(database.formatDoc) },\n        })\n      })\n  }, [folderId, currentUser])\n\n  useEffect(() => {\n    return (\n      database.files\n        .where(\"folderId\", \"==\", folderId)\n        .where(\"userId\", \"==\", currentUser.uid)\n        // .orderBy(\"createdAt\")\n        .onSnapshot(snapshot => {\n          dispatch({\n            type: ACTIONS.SET_CHILD_FILES,\n            payload: { childFiles: snapshot.docs.map(database.formatDoc) },\n          })\n        })\n    )\n  }, [folderId, currentUser])\n\n  return state\n}\n","import React, { useState } from \"react\"\nimport { Button, Modal, Form } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFolderPlus } from \"@fortawesome/free-solid-svg-icons\"\nimport { database } from \"../../firebase\"\nimport { useAuth } from \"../../context/AuthContext\"\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\n\nexport default function AddFolderButton({ currentFolder }) {\n  const [open, setOpen] = useState(false)\n  const [name, setName] = useState(\"\")\n  const { currentUser } = useAuth()\n\n  function openModal() {\n    setOpen(true)\n  }\n\n  function closeModal() {\n    setOpen(false)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    if (currentFolder == null) return\n\n    const path = [...currentFolder.path]\n    if (currentFolder !== ROOT_FOLDER) {\n      path.push({ name: currentFolder.name, id: currentFolder.id })\n    }\n\n    database.folders.add({\n      name: name,\n      parentId: currentFolder.id,\n      userId: currentUser.uid,\n      path: path,\n      createdAt: database.getCurrentTimestamp(),\n    })\n    setName(\"\")\n    closeModal()\n  }\n\n  return (\n    <>\n      <Button onClick={openModal} variant=\"outline-success\" size=\"sm\">\n        <FontAwesomeIcon icon={faFolderPlus} />\n      </Button>\n      <Modal show={open} onHide={closeModal}>\n        <Form onSubmit={handleSubmit}>\n          <Modal.Body>\n            <Form.Group>\n              <Form.Label>Folder Name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                required\n                value={name}\n                onChange={e => setName(e.target.value)}\n              />\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={closeModal}>\n              Close\n            </Button>\n            <Button variant=\"success\" type=\"submit\">\n              Add Folder\n            </Button>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </>\n  )\n}\n","import React, { useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { faFileUpload } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useAuth } from \"../../context/AuthContext\"\nimport { storage, database } from \"../../firebase\"\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\nimport { v4 as uuidV4 } from \"uuid\"\nimport { ProgressBar, Toast } from \"react-bootstrap\"\n\nexport default function AddFileButton({ currentFolder }) {\n  const [uploadingFiles, setUploadingFiles] = useState([])\n  const { currentUser } = useAuth()\n\n  function handleUpload(e) {\n    const file = e.target.files[0]\n    if (currentFolder == null || file == null) return\n\n    const id = uuidV4()\n    setUploadingFiles(prevUploadingFiles => [\n      ...prevUploadingFiles,\n      { id: id, name: file.name, progress: 0, error: false },\n    ])\n    const filePath =\n      currentFolder === ROOT_FOLDER\n        ? `${currentFolder.path.join(\"/\")}/${file.name}`\n        : `${currentFolder.path.join(\"/\")}/${currentFolder.name}/${file.name}`\n\n    const uploadTask = storage\n      .ref(`/files/${currentUser.uid}/${filePath}`)\n      .put(file)\n\n    uploadTask.on(\n      \"state_changed\",\n      snapshot => {\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes\n        setUploadingFiles(prevUploadingFiles => {\n          return prevUploadingFiles.map(uploadFile => {\n            if (uploadFile.id === id) {\n              return { ...uploadFile, progress: progress }\n            }\n\n            return uploadFile\n          })\n        })\n      },\n      () => {\n        setUploadingFiles(prevUploadingFiles => {\n          return prevUploadingFiles.map(uploadFile => {\n            if (uploadFile.id === id) {\n              return { ...uploadFile, error: true }\n            }\n            return uploadFile\n          })\n        })\n      },\n      () => {\n        setUploadingFiles(prevUploadingFiles => {\n          return prevUploadingFiles.filter(uploadFile => {\n            return uploadFile.id !== id\n          })\n        })\n\n        uploadTask.snapshot.ref.getDownloadURL().then(url => {\n          database.files\n            .where(\"name\", \"==\", file.name)\n            .where(\"userId\", \"==\", currentUser.uid)\n            .where(\"folderId\", \"==\", currentFolder.id)\n            .get()\n            .then(existingFiles => {\n              const existingFile = existingFiles.docs[0]\n              if (existingFile) {\n                existingFile.ref.update({ url: url })\n              } else {\n                database.files.add({\n                  url: url,\n                  name: file.name,\n                  createdAt: database.getCurrentTimestamp(),\n                  folderId: currentFolder.id,\n                  userId: currentUser.uid,\n                })\n              }\n            })\n        })\n      }\n    )\n  }\n\n  return (\n    <>\n      <label className=\"btn btn-outline-success btn-sm m-0 mr-2\">\n        <FontAwesomeIcon icon={faFileUpload} />\n        <input\n          type=\"file\"\n          onChange={handleUpload}\n          style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }}\n        />\n      </label>\n      {uploadingFiles.length > 0 &&\n        ReactDOM.createPortal(\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"1rem\",\n              right: \"1rem\",\n              maxWidth: \"250px\",\n            }}\n          >\n            {uploadingFiles.map(file => (\n              <Toast\n                key={file.id}\n                onClose={() => {\n                  setUploadingFiles(prevUploadingFiles => {\n                    return prevUploadingFiles.filter(uploadFile => {\n                      return uploadFile.id !== file.id\n                    })\n                  })\n                }}\n              >\n                <Toast.Header\n                  closeButton={file.error}\n                  className=\"text-truncate w-100 d-block\"\n                >\n                  {file.name}\n                </Toast.Header>\n                <Toast.Body>\n                  <ProgressBar\n                    animated={!file.error}\n                    variant={file.error ? \"danger\" : \"primary\"}\n                    now={file.error ? 100 : file.progress * 100}\n                    label={\n                      file.error\n                        ? \"Error\"\n                        : `${Math.round(file.progress * 100)}%`\n                    }\n                  />\n                </Toast.Body>\n              </Toast>\n            ))}\n          </div>,\n          document.body\n        )}\n    </>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Button } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFolder } from \"@fortawesome/free-solid-svg-icons\"\n\nexport default function Folder({ folder }) {\n  return (\n    <Button\n      to={{\n        pathname: `/folder/${folder.id}`,\n        state: { folder: folder },\n      }}\n      variant=\"outline-dark\"\n      className=\"text-truncate w-100\"\n      as={Link}\n    >\n      <FontAwesomeIcon icon={faFolder} className=\"mr-2\" />\n      {folder.name}\n    </Button>\n  )\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport React from \"react\"\n\nexport default function File({ file }) {\n  return (\n    <a\n      href={file.url}\n      target=\"_blank\"\n      className=\"btn btn-outline-dark text-truncate w-100\"\n    >\n      <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\n      {file.name}\n    </a>\n  )\n}\n","import React from \"react\"\nimport { Navbar, Nav } from \"react-bootstrap\"\nimport { Link } from \"react-router-dom\"\n\nexport default function NavbarComponent() {\n  return (\n    <Navbar bg=\"light\" expand=\"sm\">\n      <Navbar.Brand as={Link} to=\"/\">\n        Welcome to Kushal's Drive\n      </Navbar.Brand>\n      <Nav>\n        <Nav.Link as={Link} to=\"/user\">\n          Profile\n        </Nav.Link>\n      </Nav>\n    </Navbar>\n  )\n}\n","import React from \"react\"\nimport { Breadcrumb } from \"react-bootstrap\"\nimport { Link } from \"react-router-dom\"\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\n\nexport default function FolderBreadcrumbs({ currentFolder }) {\n  let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER]\n  if (currentFolder) path = [...path, ...currentFolder.path]\n\n  return (\n    <Breadcrumb\n      className=\"flex-grow-1\"\n      listProps={{ className: \"bg-white pl-0 m-0\" }}\n    >\n      {path.map((folder, index) => (\n        <Breadcrumb.Item\n          key={folder.id}\n          linkAs={Link}\n          linkProps={{\n            to: {\n              pathname: folder.id ? `/folder/${folder.id}` : \"/\",\n              state: { folder: { ...folder, path: path.slice(1, index) } },\n            },\n          }}\n          className=\"text-truncate d-inline-block\"\n          style={{ maxWidth: \"150px\" }}\n        >\n          {folder.name}\n        </Breadcrumb.Item>\n      ))}\n      {currentFolder && (\n        <Breadcrumb.Item\n          className=\"text-truncate d-inline-block\"\n          style={{ maxWidth: \"200px\" }}\n          active\n        >\n          {currentFolder.name}\n        </Breadcrumb.Item>\n      )}\n    </Breadcrumb>\n  )\n}\n","import React from \"react\"\nimport { Container } from \"react-bootstrap\"\nimport { useFolder } from \"../../hooks/useFolder\"\nimport AddFolderButton from \"./AddFolderButton\"\nimport AddFileButton from \"./AddFileButton\"\nimport Folder from \"./Folder\"\nimport File from \"./File\"\nimport Navbar from \"./Navbar\"\nimport FolderBreadcrumbs from \"./FolderBreadcrumbs\"\nimport { useParams, useLocation } from \"react-router-dom\"\n\nexport default function Dashboard() {\n  const { folderId } = useParams()\n  const { state = {} } = useLocation()\n  const { folder, childFolders, childFiles } = useFolder(folderId, state.folder)\n\n  return (\n    <>\n      <Navbar />\n      <Container fluid>\n        <div className=\"d-flex align-items-center\">\n          <FolderBreadcrumbs currentFolder={folder} />\n          <AddFileButton currentFolder={folder} />\n          <AddFolderButton currentFolder={folder} />\n        </div>\n        {childFolders.length > 0 && (\n          <div className=\"d-flex flex-wrap\">\n            {childFolders.map(childFolder => (\n              <div\n                key={childFolder.id}\n                style={{ maxWidth: \"250px\" }}\n                className=\"p-2\"\n              >\n                <Folder folder={childFolder} />\n              </div>\n            ))}\n          </div>\n        )}\n        {childFolders.length > 0 && childFiles.length > 0 && <hr />}\n        {childFiles.length > 0 && (\n          <div className=\"d-flex flex-wrap\">\n            {childFiles.map(childFile => (\n              <div\n                key={childFile.id}\n                style={{ maxWidth: \"250px\" }}\n                className=\"p-2\"\n              >\n                <File file={childFile} />\n              </div>\n            ))}\n          </div>\n        )}\n      </Container>\n    </>\n  )\n}\n","import React from \"react\"\r\nimport Signup from \"./components/authentication/SignUp\"\r\nimport { AuthProvider } from \"./context/AuthContext\"\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport Profile from \"./components/authentication/Profile\"\r\nimport Login from \"./components/authentication/Login\"\r\nimport PrivateRoute from \"./components/authentication/PrivateRoute\"\r\nimport ForgotPassword from \"./components/authentication/ForgotPassword\"\r\nimport UpdateProfile from \"./components/authentication/UpdateProfile\"\r\nimport Dashboard from \"./components/google-drive/Dashboard\"\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <AuthProvider>\r\n        <Switch>\r\n          {/* Drive */}\r\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n          <PrivateRoute exact path=\"/folder/:folderId\" component={Dashboard} />\r\n\r\n          {/* Profile */}\r\n          <PrivateRoute path=\"/user\" component={Profile} />\r\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\r\n\r\n          {/* Auth */}\r\n          <Route path=\"/signup\" component={Signup} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n        </Switch>\r\n      </AuthProvider>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}